dem@calculate ~/vagrant/06_DZ $ vagrant ssh
[vagrant@rpmtest ~]$ sudo -i

[root@rpmtest ~]# ll
total 17832
-rw-r--r--.  1 root root 11924330 Apr 14 16:43 OpenSSL_1_1_1-stable.zip
-rw-------.  1 root root     5207 Dec  4  2020 anaconda-ks.cfg
-rw-r--r--.  1 root root  1082461 Apr 14 16:43 mnginx-1.20.2-1.el7.ngx.src.rpm
drwxr-xr-x. 19 root root     4096 Sep 11  2023 openssl-OpenSSL_1_1_1-stable
-rw-------.  1 root root     5006 Dec  4  2020 original-ks.cfg
-rw-r--r--.  1 root root  5222976 Apr 14 16:43 percona-orchestrator-3.2.6-2.el8.x86_64.rpm

[root@rpmtest ~]# rpm -i nginx-1.20.2-1.el7.ngx.src.rpm 
warning: nginx-1.20.2-1.el7.ngx.src.rpm: Header V4 RSA/SHA1 Signature, key ID 7bd9bf62: NOKEY

[root@rpmtest ~]# ll
total 17832
-rw-r--r--.  1 root root 11924330 Apr 14 16:43 [0m[38;5;9mOpenSSL_1_1_1-stable.zip[0m
-rw-------.  1 root root     5207 Dec  4  2020 anaconda-ks.cfg
-rw-r--r--.  1 root root  1082461 Apr 14 16:43 [38;5;9mnginx-1.20.2-1.el7.ngx.src.rpm[0m
drwxr-xr-x. 19 root root     4096 Sep 11  2023 [38;5;33mopenssl-OpenSSL_1_1_1-stable[0m
-rw-------.  1 root root     5006 Dec  4  2020 original-ks.cfg
-rw-r--r--.  1 root root  5222976 Apr 14 16:43 [38;5;9mpercona-orchestrator-3.2.6-2.el8.x86_64.rpm[0m
drwxr-xr-x.  4 root root       34 Apr 14 16:44 [38;5;33mrpmbuild[0m

[root@rpmtest ~]# yum-builddep rpmbuild/SPECS/nginx.spec 
Failed to set locale, defaulting to C.UTF-8
Last metadata expiration check: 0:01:28 ago on Sun Apr 14 16:52:40 2024.
Package systemd-239-41.el8_3.x86_64 is already installed.
Dependencies resolved.
=========================================================================================================================================
 Package                                Architecture              Version                                Repository                 Size
=========================================================================================================================================
Installing:
 [1m[32mopenssl-devel                         (B[m x86_64                    1:1.1.1k-5.el8_5                       baseos                    2.3 M
 [1m[32mpcre-devel                            (B[m x86_64                    8.42-6.el8                             baseos                    551 k
 [1m[32mzlib-devel                            (B[m x86_64                    1.2.11-17.el8                          baseos                     58 k
Upgrading:
 [1m[32me2fsprogs                             (B[m x86_64                    1.45.6-2.el8                           baseos                    1.0 M
 [1m[32me2fsprogs-libs                        (B[m x86_64                    1.45.6-2.el8                           baseos                    233 k
 [1m[32mkeyutils                              (B[m x86_64                    1.5.10-9.el8                           baseos                     66 k
 [1m[32mkeyutils-libs                         (B[m x86_64                    1.5.10-9.el8                           baseos                     34 k
 [1m[32mkrb5-libs                             (B[m x86_64                    1.18.2-14.el8                          baseos                    840 k
 [1m[32mlibcom_err                            (B[m x86_64                    1.45.6-2.el8                           baseos                     49 k
 [1m[32mlibselinux                            (B[m x86_64                    2.9-5.el8                              baseos                    165 k
 [1m[32mlibselinux-utils                      (B[m x86_64                    2.9-5.el8                              baseos                    243 k
 [1m[32mlibsepol                              (B[m x86_64                    2.9-3.el8                              baseos                    340 k
 [1m[32mlibss                                 (B[m x86_64                    1.45.6-2.el8                           baseos                     54 k
 [1m[32mopenssl                               (B[m x86_64                    1:1.1.1k-5.el8_5                       baseos                    709 k
 [1m[32mopenssl-libs                          (B[m x86_64                    1:1.1.1k-5.el8_5                       baseos                    1.5 M
 [1m[32mpcre                                  (B[m x86_64                    8.42-6.el8                             baseos                    211 k
 [1m[32mpython3-libselinux                    (B[m x86_64                    2.9-5.el8                              baseos                    283 k
 [1m[32msystemd                               (B[m x86_64                    239-51.el8_5.2                         baseos                    3.6 M
 [1m[32msystemd-libs                          (B[m x86_64                    239-51.el8_5.2                         baseos                    1.1 M
 [1m[32msystemd-pam                           (B[m x86_64                    239-51.el8_5.2                         baseos                    477 k
 [1m[32msystemd-udev                          (B[m x86_64                    239-51.el8_5.2                         baseos                    1.6 M
 [1m[32mzlib                                  (B[m x86_64                    1.2.11-17.el8                          baseos                    102 k
Installing dependencies:
 [1m[32mkeyutils-libs-devel                   (B[m x86_64                    1.5.10-9.el8                           baseos                     48 k
 [1m[32mkrb5-devel                            (B[m x86_64                    1.18.2-14.el8                          baseos                    560 k
 [1m[32mlibcom_err-devel                      (B[m x86_64                    1.45.6-2.el8                           baseos                     38 k
 [1m[32mlibkadm5                              (B[m x86_64                    1.18.2-14.el8                          baseos                    187 k
 [1m[32mlibselinux-devel                      (B[m x86_64                    2.9-5.el8                              baseos                    200 k
 [1m[32mlibsepol-devel                        (B[m x86_64                    2.9-3.el8                              baseos                     87 k
 [1m[32mlibverto-devel                        (B[m x86_64                    0.3.0-5.el8                            baseos                     18 k
 [1m[32mpcre-cpp                              (B[m x86_64                    8.42-6.el8                             baseos                     47 k
 [1m[32mpcre-utf16                            (B[m x86_64                    8.42-6.el8                             baseos                    195 k
 [1m[32mpcre-utf32                            (B[m x86_64                    8.42-6.el8                             baseos                    186 k
 [1m[32mpcre2-devel                           (B[m x86_64                    10.32-2.el8                            baseos                    605 k
 [1m[32mpcre2-utf16                           (B[m x86_64                    10.32-2.el8                            baseos                    229 k
 [1m[32mpcre2-utf32                           (B[m x86_64                    10.32-2.el8                            baseos                    220 k

Transaction Summary
=========================================================================================================================================
Install  16 Packages
Upgrade  19 Packages

Total download size: 18 M
Is this ok [y/N]: y
Downloading Packages:
.....
Upgraded:
  e2fsprogs-1.45.6-2.el8.x86_64               e2fsprogs-libs-1.45.6-2.el8.x86_64           keyutils-1.5.10-9.el8.x86_64                 
  keyutils-libs-1.5.10-9.el8.x86_64           krb5-libs-1.18.2-14.el8.x86_64               libcom_err-1.45.6-2.el8.x86_64               
  libselinux-2.9-5.el8.x86_64                 libselinux-utils-2.9-5.el8.x86_64            libsepol-2.9-3.el8.x86_64                    
  libss-1.45.6-2.el8.x86_64                   openssl-1:1.1.1k-5.el8_5.x86_64              openssl-libs-1:1.1.1k-5.el8_5.x86_64         
  pcre-8.42-6.el8.x86_64                      python3-libselinux-2.9-5.el8.x86_64          systemd-239-51.el8_5.2.x86_64                
  systemd-libs-239-51.el8_5.2.x86_64          systemd-pam-239-51.el8_5.2.x86_64            systemd-udev-239-51.el8_5.2.x86_64           
  zlib-1.2.11-17.el8.x86_64                  

Installed:
  keyutils-libs-devel-1.5.10-9.el8.x86_64        krb5-devel-1.18.2-14.el8.x86_64              libcom_err-devel-1.45.6-2.el8.x86_64       
  libkadm5-1.18.2-14.el8.x86_64                  libselinux-devel-2.9-5.el8.x86_64            libsepol-devel-2.9-3.el8.x86_64            
  libverto-devel-0.3.0-5.el8.x86_64              openssl-devel-1:1.1.1k-5.el8_5.x86_64        pcre-cpp-8.42-6.el8.x86_64                 
  pcre-devel-8.42-6.el8.x86_64                   pcre-utf16-8.42-6.el8.x86_64                 pcre-utf32-8.42-6.el8.x86_64               
  pcre2-devel-10.32-2.el8.x86_64                 pcre2-utf16-10.32-2.el8.x86_64               pcre2-utf32-10.32-2.el8.x86_64             
  zlib-devel-1.2.11-17.el8.x86_64               

Complete!

[root@rpmtest ~]# nano rpmbuild/SPECS/nginx.spec 
...

[root@rpmtest ~]# rpmbuild -bb rpmbuild/SPECS/nginx.spec 
...
+ exit 0

[root@rpmtest ~]# echo $?
0

[root@rpmtest ~]# ll rpmbuild/RPMS/x86_64/
total 4864
-rw-r--r--. 1 root root 2444220 Apr 14 17:11 nginx-1.20.2-1.el8.ngx.x86_64.rpm
-rw-r--r--. 1 root root 2533336 Apr 14 17:11 nginx-debuginfo-1.20.2-1.el8.ngx.x86_64.rpm

[root@rpmtest ~]# yum localinstall -y rpmbuild/RPMS/x86_64/nginx-1.20.2-1.el8.ngx.x86_64.rpm
Failed to set locale, defaulting to C.UTF-8
Last metadata expiration check: 0:22:30 ago on Sun Apr 14 16:52:40 2024.
Dependencies resolved.
=========================================================================================================================================
 Package                    Architecture                Version                                  Repository                         Size
=========================================================================================================================================
Installing:
 [32mnginx                     (B[m x86_64                      1:1.20.2-1.el8.ngx                       @commandline                      2.3 M

Transaction Summary
=========================================================================================================================================
Install  1 Package

Total size: 2.3 M
Installed size: 6.1 M
Downloading Packages:
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction

  Preparing        :                                                                                                                 1/1 

  Running scriptlet: nginx-1:1.20.2-1.el8.ngx.x86_64                                                                                 1/1 

  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [                                                                             ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [=                                                                            ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [==                                                                           ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [===                                                                          ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [====                                                                         ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [=====                                                                        ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [======                                                                       ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [=======                                                                      ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [========                                                                     ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [=========                                                                    ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [==========                                                                   ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [===========                                                                  ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [============                                                                 ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [=============                                                                ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [==============                                                               ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [===============                                                              ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [================                                                             ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [=================                                                            ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [==================                                                           ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [===================                                                          ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [====================                                                         ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [=====================                                                        ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [======================                                                       ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [=======================                                                      ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [========================                                                     ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [=========================                                                    ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [==========================                                                   ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [===========================                                                  ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [============================                                                 ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [=============================                                                ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [==============================                                               ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [===============================                                              ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [================================                                             ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [=================================                                            ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [==================================                                           ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [===================================                                          ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [====================================                                         ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [=====================================                                        ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [======================================                                       ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [=======================================                                      ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [========================================                                     ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [=========================================                                    ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [==========================================                                   ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [===========================================                                  ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [============================================                                 ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [=============================================                                ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [==============================================                               ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [===============================================                              ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [================================================                             ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [=================================================                            ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [==================================================                           ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [===================================================                          ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [====================================================                         ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [=====================================================                        ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [======================================================                       ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [=======================================================                      ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [========================================================                     ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [=========================================================                    ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [==========================================================                   ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [===========================================================                  ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [============================================================                 ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [=============================================================                ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [==============================================================               ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [===============================================================              ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [================================================================             ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [=================================================================            ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [==================================================================           ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [===================================================================          ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [====================================================================         ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [=====================================================================        ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [======================================================================       ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [=======================================================================      ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [========================================================================     ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [=========================================================================    ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [==========================================================================   ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [===========================================================================  ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64 [============================================================================ ] 1/1
  Installing       : nginx-1:1.20.2-1.el8.ngx.x86_64                                                                                 1/1 

  Running scriptlet: nginx-1:1.20.2-1.el8.ngx.x86_64                                                                                 1/1 
----------------------------------------------------------------------

Thanks for using nginx!

Please find the official documentation for nginx here:
* https://nginx.org/en/docs/

Please subscribe to nginx-announce mailing list to get
the most important news about nginx:
* https://nginx.org/en/support.html

Commercial subscriptions for nginx are available on:
* https://nginx.com/products/

----------------------------------------------------------------------


  Verifying        : nginx-1:1.20.2-1.el8.ngx.x86_64                                                                                 1/1 

Installed:
  nginx-1:1.20.2-1.el8.ngx.x86_64                                                                                                        

Complete!

[root@rpmtest ~]# systemctl start nginx

[root@rpmtest ~]# systemctl status nginx

   ginx.service - nginx - high performance web server
   Loaded: loaded (/usr/lib/systemd/system/nginx.service; disabled; vendor preset: disabled)
   Active: active (running)[0m since Sun 2024-04-14 17:18:15 UTC; 14s ago
     Docs: http://nginx.org/en/docs/
  Process: 46855 ExecStart=/usr/sbin/nginx -c /etc/nginx/nginx.conf (code=exited, status=0/SUCCESS)[m
 Main PID: 46856 (nginx)
    Tasks: 5 (limit: 12419)
   Memory: 5.1M
   CGroup: /system.slice/nginx.service
           ├─46856 nginx: master process /usr/sbin/nginx -c /etc/nginx/nginx.conf
           ├─46857 nginx: worker process
           ├─46858 nginx: worker process
           ├─46859 nginx: worker process
           └─46860 nginx: worker process

Apr 14 17:18:15 rpmtest systemd[1]: Starting nginx - high performance web server...
Apr 14 17:18:15 rpmtest systemd[1]: Started nginx - high performance web server.

[root@rpmtest ~]# mkdir /usr/share/nginx/html/repo

[root@rpmtest ~]# cp rpmbuild/RPMS/x86_64/nginx-1.20.2-1.el8.ngx.x86_64.rpm /usr/share/nginx/html/repo

[root@rpmtest ~]# cp percona-orchestrator-3.2.6-2.el8.x86_64.rpm /usr/share/nginx/html/repo

[root@rpmtest ~]# ll /usr/share/nginx/html/repo
total 7492
-rw-r--r--. 1 root root 2444220 Apr 14 17:22 nginx-1.20.2-1.el8.ngx.x86_64.rpm
-rw-r--r--. 1 root root 5222976 Apr 14 17:22 percona-orchestrator-3.2.6-2.el8.x86_64.rpm

[root@rpmtest ~]# createrepo /usr/share/nginx/html/repo/
Directory walk started
Directory walk done - 2 packages
Temporary output repo path: /usr/share/nginx/html/repo/.repodata/
Preparing sqlite DBs
Pool started (with 5 workers)
Pool finished

[root@rpmtest ~]# nano /etc/nginx/conf.d/default.conf 
[?1049h[22;0;0t[1;47r(B[m[4l[?7h[39;49m[?1h=[?1h=[?1h=[?25l[39;49m(B[m[H[2J[45;61H(B[0;7m[ Reading File ](B[m[45;67H(B[0;7m 44 lines ](B[m[H(B[0;7m  GNU nano 2.9.8 [39b/etc/nginx/conf.d/default.conf [49b [1;136H(B[m
[46d(B[0;7m^G(B[m Get Help	 (B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is	   (B[0;7m^K(B[m Cut Text[69G(B[0;7m^J(B[m Justify[86G(B[0;7m^C(B[m Cur Pos[103G(B[0;7mM-U(B[m Undo[46;120H(B[0;7mM-A(B[m Mark Text
[47d(B[0;7m^X(B[m Exit[47;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace	   (B[0;7m^U(B[m Uncut Text    (B[0;7m^T(B[m To Spell[86G(B[0;7m^_(B[m Go To Line    (B[0;7mM-E(B[m Redo[47;120H(B[0;7mM-6(B[m Copy Text
[45d[3d[39;49m(B[mserver {[4;5Hlisten	 80;[5;5Hserver_name  localhost;
[7d[36m    #access_log  /var/log/nginx/host.access.log  main;[9;5H[39m(B[mlocation / {[10;9Hroot   /usr/share/nginx/html;[11;9Hindex  index.html index.htm;[12;5H}
[14d[36m    #error_page  404[14X[14;35H/404.html;
[16d    # redirect server error pages to the static page /50x.html
[17d    #[18d[39m(B[merror_page   500 502 503 504  /50x.html;[19;5Hlocation = /50x.html {[20;9Hroot   /usr/share/nginx/html;[21;5H}
[23d[36m    # proxy the PHP scripts to Apache listening on 127.0.0.1:80
[24d    #
[25d    #location ~ \.php$ {
[26d    #    proxy_pass   http://127.0.0.1;
[27d    #}
[29d    # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000
[30d    #
[31d    #location ~ \.php$ {
[32d    #    root [10bhtml;
[33d    #    fastcgi_pass   127.0.0.1:9000;
[34d    #    fastcgi_index  index.php;
[35d    #    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;
[36d    #    include [7bfastcgi_params;
[37d    #}
[39d    # deny access to .htaccess files, if Apache's document root
[40d    # concurs with nginx's one
[41d    #
[42d    #location ~ /\.ht {
[43d    #    deny  all;
[44d    #}
[3d[39m(B[m[?12l[?25h[?25l[4d[?12l[?25h[?25l[5d[?12l[?25h[?25l[6d[?12l[?25h[?25l[7d[?12l[?25h[?25l[8d[?12l[?25h[?25l[9d[?12l[?25h[?25l[10d[?12l[?25h[?25l[11d[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l	[?12l[?25h[?25li[?12l[?25h[?25ln[?12l[?25h[?25ld[?12l[?25h[?25le[?12l[?25h[?25lx[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l	[?12l[?25h[?25ln[?12l[?25h[?25l
[45d[K[11;19H[?12l[?25h[?25le[?12l[?25h[?25lx[?12l[?25h[?25l.[?12l[?25h[?25lh[?12l[?25h[?25lt[?12l[?25h[?25l	[?12l[?25h[?25ll[?12l[?25h[?25l [?12l[?25h[?25li[?12l[?25h[?25ln[?12l[?25h[?25ld[?12l[?25h[?25le[?12l[?25h[?25lx[?12l[?25h[?25l	[?12l[?25h[?25lh[?12l[?25h[?25lt[?12l[?25h[?25lm[?12l[?25h[?25l;[?12l[?25h[?25l[1;128H(B[0;7mModified(B[m[12;44r[12;1HM[1;47r[12;1H[?12l[?25h[?25l[12;9H[?12l[?25h[?25la[?12l[?25h[?25lu[?12l[?25h[?25lt[?12l[?25h[?25lo[?12l[?25h[?25li[?12l[?25h[?25ln[?12l[?25h[?25ld[?12l[?25h[?25le[?12l[?25h[?25lx[?12l[?25h[?25l [?12l[?25h[?25lo[?12l[?25h[?25ln[?12l[?25h[?25l;[?12l[?25h[?25l
[45d(B[0;7mSave modified buffer?  (Answering "No" will DISCARD changes.) [74b [46;1H Y(B[m Yes[K
[47d(B[0;7m N(B[m No  [47;17H(B[0;7m^C(B[m Cancel[K[45;63H[?12l[?25h[?25l
[46d(B[0;7m^G(B[m Get Help[46;35H(B[0;7mM-D(B[m DOS Format[46;69H(B[0;7mM-A(B[m Append[46;103H(B[0;7mM-B(B[m Backup File
[47d(B[0;7m^C(B[m Cancel	 [8b[47;35H(B[0;7mM-M(B[m Mac Format[47;69H(B[0;7mM-P(B[m Prepend[47;103H(B[0;7m^T(B[m To Files
[45d(B[0;7mFile Name to Write: /etc/nginx/conf.d/default.conf [10b
(B[m[45;51H[?12l[?25h[?25l
[K[1;136H[1;128H(B[0;7m [7b(B[m[45;60H(B[0;7m[ Wrote 45 lines ](B[m
[J[47;137H[?12l[?25h[47;1H[?1049l[23;0;0t

[root@rpmtest ~]# nginx -t
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful

[root@rpmtest ~]# nginx -s reload

[root@rpmtest ~]# curl -a http://localhost/repo/
<html>

<head><title>Index of /repo/</title></head>

<body>

<h1>Index of /repo/</h1><hr><pre><a href="../">../</a>

<a href="repodata/">repodata/</a>                                          14-Apr-2024 17:26                   -

<a href="nginx-1.20.2-1.el8.ngx.x86_64.rpm">nginx-1.20.2-1.el8.ngx.x86_64.rpm</a>                  14-Apr-2024 17:22             2444220

<a href="percona-orchestrator-3.2.6-2.el8.x86_64.rpm">percona-orchestrator-3.2.6-2.el8.x86_64.rpm</a>        14-Apr-2024 17:22             5222976

</pre><hr></body>

</html>


[root@rpmtest ~]# cat >> /etc/yum.repos.d/otus.repo << EOF
> [otus]
> name=otus-linux
> baseurl=http://localhost/repo
> gpgcheck=0
> enabled=1
> EOF

[root@rpmtest ~]# yum repolist enabled | grpep otus
Failed to set locale, defaulting to C.UTF-8
otus                            otus-linux

[root@rpmtest ~]# yum list | grep otus
Failed to set locale, defaulting to C.UTF-8
otus-linux                                      1.3 MB/s | 2.8 kB     00:00    
percona-orchestrator.x86_64                            2:3.2.6-2.el8                                          otus        

[root@rpmtest ~]# yum install -y percona-orchestrator.x86_64
Failed to set locale, defaulting to C.UTF-8
CentOS Linux 8 - AppStream                    [===                                      ] ---  B/s |   0  B     --:-- ETA
CentOS Linux 8 - AppStream                    [===                                      ] ---  B/s |   0  B     --:-- ETA
CentOS Linux 8 - AppStream                                                                9.5 kB/s | 4.3 kB     00:00    
CentOS Linux 8 - BaseOS                       [   ===                                   ] ---  B/s |   0  B     --:-- ETA
CentOS Linux 8 - BaseOS                                                                    13 kB/s | 3.9 kB     00:00    
CentOS Linux 8 - Extras                       [      ===                                ] ---  B/s |   0  B     --:-- ETA
CentOS Linux 8 - Extras                  100% [=========================================] 5.0 kB/s | 1.5 kB     00:00 ETA
CentOS Linux 8 - Extras                                                                   5.0 kB/s | 1.5 kB     00:00    
Dependencies resolved.
==========================================================================================================================
 Package                             Architecture          Version                         Repository                Size
==========================================================================================================================
Installing:
 [1m[32mpercona-orchestrator               (B[m x86_64                2:3.2.6-2.el8                   otus                     5.0 M
Installing dependencies:
 [1m[32mjq                                 (B[m x86_64                1.5-12.el8                      appstream                161 k
 [1m[32moniguruma                          (B[m x86_64                6.8.2-2.el8                     appstream                187 k

Transaction Summary
==========================================================================================================================
Install  3 Packages

Total download size: 5.3 M
Installed size: 17 M
Downloading Packages:
(1/3): jq-1.5-12.el8.x86_64.rpm            0% [                                         ] ---  B/s |   0  B     --:-- ETA
(1/3): percona-orchestrator-3.2.6-2.el8.x86_64.rpm                                        107 MB/s | 5.0 MB     00:00    
(2-3/3): oniguruma-6.8.2-2.el8.x86_64.rpm 93% [======================================   ] 107 MB/s | 5.0 MB     00:00 ETA
(2-3/3): oniguruma-6.8.2-2.el8.x86_64.rpm 94% [======================================-  ] 100 MB/s | 5.0 MB     00:00 ETA
(2/3): jq-1.5-12.el8.x86_64.rpm                                                           347 kB/s | 161 kB     00:00    
(3/3): oniguruma-6.8.2-2.el8.x86_64.rpm   99% [========================================-]  98 MB/s | 5.3 MB     00:00 ETA
(3/3): oniguruma-6.8.2-2.el8.x86_64.rpm                                                   400 kB/s | 187 kB     00:00    
--------------------------------------------------------------------------------------------------------------------------
Total                                                                                      11 MB/s | 5.3 MB     00:00     
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction

  Preparing        :  [==============================                                                               ] 1/1
  Preparing        :  [=============================================================                                ] 1/1
  Preparing        :                                                                                                  1/1 

  Installing       : oniguruma-6.8.2-2.el8.x86_64 [                                                                 ] 1/3
  Installing       : oniguruma-6.8.2-2.el8.x86_64 [==                                                               ] 1/3
  Installing       : oniguruma-6.8.2-2.el8.x86_64 [=====                                                            ] 1/3
  Installing       : oniguruma-6.8.2-2.el8.x86_64 [=========                                                        ] 1/3
  Installing       : oniguruma-6.8.2-2.el8.x86_64 [===========                                                      ] 1/3
  Installing       : oniguruma-6.8.2-2.el8.x86_64 [==============                                                   ] 1/3
  Installing       : oniguruma-6.8.2-2.el8.x86_64 [==================                                               ] 1/3
  Installing       : oniguruma-6.8.2-2.el8.x86_64 [=====================                                            ] 1/3
  Installing       : oniguruma-6.8.2-2.el8.x86_64 [========================                                         ] 1/3
  Installing       : oniguruma-6.8.2-2.el8.x86_64 [===========================                                      ] 1/3
  Installing       : oniguruma-6.8.2-2.el8.x86_64 [==============================                                   ] 1/3
  Installing       : oniguruma-6.8.2-2.el8.x86_64 [=================================                                ] 1/3
  Installing       : oniguruma-6.8.2-2.el8.x86_64 [====================================                             ] 1/3
  Installing       : oniguruma-6.8.2-2.el8.x86_64 [=======================================                          ] 1/3
  Installing       : oniguruma-6.8.2-2.el8.x86_64 [==========================================                       ] 1/3
  Installing       : oniguruma-6.8.2-2.el8.x86_64 [=============================================                    ] 1/3
  Installing       : oniguruma-6.8.2-2.el8.x86_64 [================================================                 ] 1/3
  Installing       : oniguruma-6.8.2-2.el8.x86_64 [==================================================               ] 1/3
  Installing       : oniguruma-6.8.2-2.el8.x86_64 [=====================================================            ] 1/3
  Installing       : oniguruma-6.8.2-2.el8.x86_64 [========================================================         ] 1/3
  Installing       : oniguruma-6.8.2-2.el8.x86_64 [===========================================================      ] 1/3
  Installing       : oniguruma-6.8.2-2.el8.x86_64 [=============================================================    ] 1/3
  Installing       : oniguruma-6.8.2-2.el8.x86_64 [==============================================================   ] 1/3
  Installing       : oniguruma-6.8.2-2.el8.x86_64 [===============================================================  ] 1/3
  Installing       : oniguruma-6.8.2-2.el8.x86_64 [================================================================ ] 1/3
  Installing       : oniguruma-6.8.2-2.el8.x86_64                                                                     1/3 

  Running scriptlet: oniguruma-6.8.2-2.el8.x86_64                                                                     1/3 

  Installing       : jq-1.5-12.el8.x86_64 [                                                                         ] 2/3
  Installing       : jq-1.5-12.el8.x86_64 [====                                                                     ] 2/3
  Installing       : jq-1.5-12.el8.x86_64 [=====                                                                    ] 2/3
  Installing       : jq-1.5-12.el8.x86_64 [===========                                                              ] 2/3
  Installing       : jq-1.5-12.el8.x86_64 [==================                                                       ] 2/3
  Installing       : jq-1.5-12.el8.x86_64 [========================                                                 ] 2/3
  Installing       : jq-1.5-12.el8.x86_64 [==============================                                           ] 2/3
  Installing       : jq-1.5-12.el8.x86_64 [=====================================                                    ] 2/3
  Installing       : jq-1.5-12.el8.x86_64 [===========================================                              ] 2/3
  Installing       : jq-1.5-12.el8.x86_64 [==================================================                       ] 2/3
  Installing       : jq-1.5-12.el8.x86_64 [========================================================                 ] 2/3
  Installing       : jq-1.5-12.el8.x86_64 [===============================================================          ] 2/3
  Installing       : jq-1.5-12.el8.x86_64 [================================================================         ] 2/3
  Installing       : jq-1.5-12.el8.x86_64 [=================================================================        ] 2/3
  Installing       : jq-1.5-12.el8.x86_64 [==================================================================       ] 2/3
  Installing       : jq-1.5-12.el8.x86_64 [===================================================================      ] 2/3
  Installing       : jq-1.5-12.el8.x86_64 [======================================================================== ] 2/3
  Installing       : jq-1.5-12.el8.x86_64                                                                             2/3 

  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [                                                    ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [=                                                   ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [==                                                  ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [===                                                 ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [====                                                ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [=====                                               ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [======                                              ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [=======                                             ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [========                                            ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [=========                                           ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [==========                                          ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [===========                                         ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [============                                        ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [=============                                       ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [==============                                      ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [===============                                     ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [================                                    ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [=================                                   ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [==================                                  ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [===================                                 ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [====================                                ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [=====================                               ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [======================                              ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [=======================                             ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [========================                            ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [=========================                           ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [==========================                          ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [===========================                         ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [============================                        ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [=============================                       ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [==============================                      ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [===============================                     ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [================================                    ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [=================================                   ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [==================================                  ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [===================================                 ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [====================================                ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [=====================================               ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [======================================              ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [=======================================             ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [========================================            ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [=========================================           ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [==========================================          ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [===========================================         ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [============================================        ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [=============================================       ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [==============================================      ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [===============================================     ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [================================================    ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [=================================================   ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [==================================================  ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64 [=================================================== ] 3/3
  Installing       : percona-orchestrator-2:3.2.6-2.el8.x86_64                                                        3/3 

  Running scriptlet: percona-orchestrator-2:3.2.6-2.el8.x86_64                                                        3/3 

  Verifying        : jq-1.5-12.el8.x86_64                                                                             1/3 

  Verifying        : oniguruma-6.8.2-2.el8.x86_64                                                                     2/3 

  Verifying        : percona-orchestrator-2:3.2.6-2.el8.x86_64                                                        3/3 

Installed:
  jq-1.5-12.el8.x86_64          oniguruma-6.8.2-2.el8.x86_64          percona-orchestrator-2:3.2.6-2.el8.x86_64         

Complete!

[root@rpmtest ~]# exit
logout

[vagrant@rpmtest ~]$ exit
logout

dem@calculate ~/vagrant/06_DZ $ exit

exit

